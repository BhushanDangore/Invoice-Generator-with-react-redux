(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{267:function(e,t,a){e.exports=a(389)},285:function(e,t,a){},389:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(15),i=a.n(r),l=a(32),c=a(55),s=a(238),m=a(106),u=a(9),p=a(58),d=a(19),h=a(16),f=a(21),g=a(22),E=a(23),v=(a(285),a(430)),b=a(177),y=a(47),O=a(98),j=a(145),x=a(240),C=a.n(x),k=a(5),I=a(176),w=a.n(I),F=a(432),D=a(74),T=a(85),N={root:{flexGrow:1},menuButton:{marginRight:w()().spacing(2)},title:{flexGrow:1},linkFix:{textDecoration:"none",color:"white"}},S=function(e){function t(){return Object(d.a)(this,t),Object(f.a)(this,Object(g.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this.props.classes;return o.a.createElement("div",{className:e.root},o.a.createElement(v.a,{position:"static"},o.a.createElement(b.a,null,o.a.createElement(j.a,{edge:"start",className:e.menuButton,color:"inherit","aria-label":"menu",onClick:this.props.toggleDrawer("left",!0)},o.a.createElement(C.a,null)),o.a.createElement(y.a,{variant:"h6",className:e.title},"Inovoice Generator"),o.a.createElement(R,{user:this.props.user,classes:!0}))))}}]),t}(n.Component),R=function(e){return null===e.user.name?null:e.user.name?o.a.createElement(F.a,{href:"/api/logout",className:e.classes.linkFix},o.a.createElement(O.a,{variant:"outlined",color:"default"},"Logout")):o.a.createElement(T.b,{to:"/login",className:e.classes.linkFix},o.a.createElement(O.a,{variant:"outlined",color:"default"},"Login"))},A=Object(D.e)(Object(l.b)((function(e){return e}))(Object(k.a)(N)(S))),L=a(443),B=a(433),P=a(404),_=a(200),G=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(f.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(r)))).sideList=function(e){var t=a.props.classes;return o.a.createElement("div",{className:t.root,role:"presentation",onClick:a.props.toggleDrawer(e,!1),onKeyDown:a.props.toggleDrawer(e,!1)},o.a.createElement(B.a,null,o.a.createElement(T.b,{to:"/dashboard",className:t.linkFix},o.a.createElement(P.a,{button:!0},o.a.createElement(_.a,{primary:"Dashboard"}))),o.a.createElement(T.b,{to:"/createinvoice",className:t.linkFix},o.a.createElement(P.a,{button:!0},o.a.createElement(_.a,{primary:"Create Invoice"}))),o.a.createElement(T.b,{to:"/viewinvoices",className:t.linkFix},o.a.createElement(P.a,{button:!0},o.a.createElement(_.a,{primary:"View Invoices"}))),o.a.createElement(T.b,{to:"/profile",className:t.linkFix},o.a.createElement(P.a,{button:!0},o.a.createElement(_.a,{primary:"Profile"})))))},a}return Object(E.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(L.a,{anchor:"left",open:this.props.left,onClose:this.props.toggleDrawer("left",!1),onOpen:this.props.toggleDrawer("left",!0)},this.sideList("left")))}}]),t}(n.Component),W=Object(l.b)((function(e){return e}))(Object(k.a)({root:{width:"230px",marginRight:"4px"},linkFix:{textDecoration:"none",color:"black"}})(G)),q=a(435),V=a(436),M=a(445),U=function(e){function t(){return Object(d.a)(this,t),Object(f.a)(this,Object(g.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this.props.classes;return o.a.createElement(o.a.Fragment,null,o.a.createElement(q.a,{maxWidth:"sm"},o.a.createElement(V.a,{className:e.root},o.a.createElement(M.a,{src:"/icons/icons8-user-96.png",className:e.avatar}),o.a.createElement(y.a,{color:"primary",variant:"h4"},"Login With"),o.a.createElement(F.a,{href:"/api/login/facebook",className:e.link},o.a.createElement(O.a,{variant:"outlined",color:"primary",className:e.button},"Facebook")),o.a.createElement(F.a,{href:"/api/login/google",className:e.link},o.a.createElement(O.a,{variant:"outlined",color:"secondary",className:e.button},"Google")))))}}]),t}(n.Component),z=Object(k.a)({root:{minWidth:250,minHeight:300,display:"flex",flexDirection:"column",padding:"15px",margin:"5px",justifyContent:"center",alignItems:"center"},link:{height:"3.5em",margin:"10px 5px",minWidth:"90%",display:"flex"},button:{height:"100%",width:"100%"},avatar:{width:"30%",height:"auto",margin:"25px 10px"}})(U),K=a(140),H=a(97),J=a(437),Q={root:{padding:Object(K.a)().spacing(3,2)}},Y=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(f.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(o)))).state={},a}return Object(E.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this.props.classes;return o.a.createElement(o.a.Fragment,null,o.a.createElement(q.a,null,o.a.createElement(H.a,{className:e.root},o.a.createElement(y.a,{variant:"h5",component:"h3"},"Dashboard"),o.a.createElement(J.a,{style:{marginTop:15,marginBottom:15}}),o.a.createElement(y.a,{component:"p"}))))}}]),t}(n.Component),$=Object(l.b)((function(e){return e}))(Object(k.a)(Q)(Y)),X={root:{padding:Object(K.a)().spacing(3,2)}},Z=function(e){function t(){return Object(d.a)(this,t),Object(f.a)(this,Object(g.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e,t=this.props.classes;return o.a.createElement(o.a.Fragment,null,o.a.createElement(q.a,null,o.a.createElement(H.a,{className:t.root},o.a.createElement(y.a,{variant:"h5",component:"h3"},"Profile"),o.a.createElement(J.a,{style:{marginTop:15,marginBottom:15}}),o.a.createElement(y.a,{component:"p"},null==this.props.user?null:(e=this.props.user).name?"Welcome, "+e.name:"Please Login First"))))}}]),t}(n.Component);var ee=Object(l.b)((function(e){return e}))(Object(k.a)(X)(Z)),te=a(158),ae=a.n(te),ne=function(e){return function(t){ae.a.get("/api/user/createinvoice",{params:e}).then((function(a){a.data.status?t({type:"CREATE_INVOICE",payload:e}):t({type:"CREATE_INVOICE",payload:!1})}))}},oe=a(155),re=a(139),ie=a(20),le=a(172),ce=a(406),se=a(408),me=a(407),ue=a(439),pe=a(438);function de(e){return o.a.createElement("div",null,o.a.createElement(ce.a,{open:e.open,onClose:e.handleClose,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},o.a.createElement(pe.a,{id:"alert-dialog-title"},e.title),o.a.createElement(me.a,null,o.a.createElement(ue.a,{id:"alert-dialog-description"},e.text)),o.a.createElement(se.a,null,o.a.createElement(O.a,{onClick:e.handleClose,color:"primary",autoFocus:!0},"Okay"))))}var he=a(33),fe=a(46),ge=a(159),Ee=a.n(ge),ve=a(56),be=a(211),ye=a(442),Oe=Object(ve.a)({button:{marginTop:"20px",padding:"10px"},customWidth:{width:"100%"},flex:{display:"flex",justifyContent:"space-between",padding:"0.8rem"},noBorder:{borderBottom:"0px"},footerFix:{display:"block"}});function je(e){var t=e.tax,a=e.total,n=e.roundoff,r=e.handleItemListData,i=Oe(),l=o.a.useState({columns:[{title:"Item",field:"item"},{title:"Quantity",field:"quantity",type:"numeric"},{title:"Cost/Item",field:"cost",type:"numeric"},{title:"total",field:"total",type:"numeric",editable:"never"}],data:[],openDialog:!1}),c=Object(fe.a)(l,2),s=c[0],m=c[1];return o.a.createElement(o.a.Fragment,null,o.a.createElement(Ee.a,{title:"Items",columns:s.columns,data:s.data,editable:{onRowAdd:function(e){return new Promise((function(t){setTimeout((function(){t(),m((function(t){var a=Object(he.a)(t.data);return e.cost&&e.quantity&&e.item?(e.cost=parseFloat(e.cost),e.quantity=parseFloat(e.quantity),e.total=parseFloat((e.cost*e.quantity).toFixed(2)),a.push(e),r(xe(a)),m(Object(p.a)({},t,{data:a}))):m(Object(p.a)({},t,{openDialog:!0})),Object(p.a)({},t,{data:a})}))}),200)}))},onRowUpdate:function(e,t){return new Promise((function(a){setTimeout((function(){a(),t&&m((function(a){if(e.cost&&e.quantity&&e.item){var n=Object(he.a)(a.data);return e.cost=parseFloat(e.cost),e.quantity=parseFloat(e.quantity),e.total=(e.cost*e.quantity).toFixed(2),n[n.indexOf(t)]=e,r(xe(n)),Object(p.a)({},a,{data:n})}m(Object(p.a)({},a,{openDialog:!0}))}))}),200)}))},onRowDelete:function(e){return new Promise((function(t){setTimeout((function(){t(),m((function(t){var a=Object(he.a)(t.data);return a.splice(a.indexOf(e),1),r(xe(a)),Object(p.a)({},t,{data:a})}))}),200)}))}},options:{rowStyle:{backgroundColor:"#EEE"},actionsColumnIndex:3,search:!1,minBodyHeight:300,loadingType:"linear"},components:{Cell:function(e){return o.a.createElement(ge.MTableCell,Object.assign({},e,{className:i.noBorder}))},EditField:function(e){return o.a.createElement(ge.MTableEditField,Object.assign({},e,{className:i.customWidth}))},Pagination:function(e){return o.a.createElement(be.a,{colSpan:3,className:i.footerFix},o.a.createElement(ye.a,{component:"span",m:1,className:i.flex},o.a.createElement(y.a,{variant:"h6",component:"span",align:"center"},"Tax Ammount: "),o.a.createElement(y.a,{variant:"h6",component:"span",align:"center"},t)),o.a.createElement(J.a,{variant:"middle"}),o.a.createElement(ye.a,{component:"span",m:1,className:i.flex},o.a.createElement(y.a,{variant:"h5",component:"span",align:"center"},"Total Ammount: "),o.a.createElement("span",{style:{display:"flex",flexDirection:"column",height:"3em",alignItems:"flex-end"}},o.a.createElement(y.a,{variant:"button",component:"span",align:"center"},o.a.createElement("span",null,"Round off.")," ",o.a.createElement("span",null,n)),o.a.createElement(y.a,{variant:"h5",component:"span",align:"center"},a))))}}}),o.a.createElement(de,{text:"Please enter all data in items list",title:"Invalid Input",open:s.openDialog,handleClose:function(){m((function(e){m(Object(p.a)({},e,{openDialog:!1}))}))}}))}function xe(e){var t,a,n=0;return e.forEach((function(e){return n+=e.total})),n=parseFloat(n.toFixed(2)),t=parseFloat((n/100*28).toFixed(2)),a=parseFloat((Math.round(n+t)-(n+t)).toFixed(2)),{total:n=parseInt(Math.round(n+t)),tax:t,roundoff:a,items:e}}var Ce=Object(K.a)(),ke={root:{display:"flex",flexFlow:"column",padding:Ce.spacing(3,2)},container:{display:"flex",flexWrap:"wrap"},textField:{marginLeft:Ce.spacing(1),marginRight:Ce.spacing(1),width:220,marginBottom:20},button:{marginTop:"20px",padding:"10px"},customWidth:{width:"100%"},flex:{display:"flex",justifyContent:"space-between",padding:"0.8rem"},noBorder:{borderBottom:"0px"},footerFix:{display:"block"}},Ie=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(f.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(r)))).state={openDialog:!1,nameOfCustomer:"",date:new Date,items:[],invoiceTax:0,invoiceTotal:0,invoiceRoundoff:0},a.handleClose=function(){a.setState({openDialog:!1})},a.feedDataIntoStore=function(){var e=a.state,t=e.nameOfCustomer,n=e.date,o=e.items,r=e.invoiceTotal,i=e.invoiceTax,l=e.invoiceRoundoff,c={nameOfCustomer:t,date:n,items:o,invoiceTotal:r,invoiceTax:i,invoiceRoundoff:l};t&&0!==o.length&&n&&r&&i&&l?a.props.dispatch(ne(c)):a.setState({openDialog:!0})},a.handleItemListData=function(e){setTimeout((function(){return a.setState({invoiceTotal:e.total,invoiceTax:e.tax,invoiceRoundoff:e.roundoff,items:e.items})}),500)},a.handleNameChange=function(e){a.setState({nameOfCustomer:e.target.value})},a.handleDateChange=function(e){a.setState({date:e})},a.checkUser=function(e,t){return e?o.a.createElement(o.a.Fragment,null,o.a.createElement(oe.a,{id:"standard-full-width",label:"Name",style:{margin:8},placeholder:"Name of Customer",margin:"normal",fullWidth:!0,value:a.state.nameOfCustomer,onChange:a.handleNameChange,InputLabelProps:{shrink:!0}}),o.a.createElement(ie.a,{utils:re.default},o.a.createElement(le.b,{style:{margin:8,marginBottom:20},margin:"normal",id:"date-picker-dialog",label:"Date picker dialog",format:"dd/MM/yyyy",value:a.state.date,onChange:a.handleDateChange,KeyboardButtonProps:{"aria-label":"change date"}})),o.a.createElement(je,{tax:a.state.invoiceTax,total:a.state.invoiceTotal,roundoff:a.state.invoiceRoundoff,handleItemListData:a.handleItemListData}),o.a.createElement(de,{text:"Please Enter All Data.....",title:"Invalid Input",open:a.state.openDialog,handleClose:a.handleClose}),o.a.createElement(O.a,{variant:"contained",color:"primary",className:t.button,onClick:a.feedDataIntoStore},"Create Invoice")):"Please Login First"},a}return Object(E.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this,t=this.props.classes;return this.props.invoices.invoiceSaveFailed&&setTimeout((function(){var t=e.props.invoices.invoiceSaveFailed;e.props.enqueueSnackbar(t,{variant:-1===t.search("Error")?"success":"error"}),e.props.dispatch({type:"RESTET_INVOICE_SAVE_MESSAGE"})}),600),o.a.createElement(o.a.Fragment,null,o.a.createElement(q.a,null,o.a.createElement(H.a,{className:t.root},o.a.createElement(y.a,{variant:"h5",component:"h3"},"Create Invoice"),o.a.createElement(J.a,{style:{marginTop:15,marginBottom:15}}),null===this.props.user?null:this.checkUser(this.props.user,t))),o.a.createElement(de,{text:"You Need To Provide All The Data To Create Invoice, Fields Can't Be Kept Empty",title:"Can't Create Invoice",open:this.state.openDialog,handleClose:this.handleClose}))}}]),t}(n.Component),we=Object(l.b)((function(e){return e}))(Object(m.withSnackbar)(Object(k.a)(ke)(Ie))),Fe=a(234),De=a(215),Te=a(232),Ne=a(216),Se=a(441),Re={root:{padding:Object(K.a)().spacing(3,2)},table:{minWidth:700}},Ae=Object(k.a)((function(e){return{head:{backgroundColor:e.palette.primary.dark,color:e.palette.common.white},body:{fontSize:14}}}))(be.a),Le=Object(k.a)((function(e){return{root:{"&:nth-of-type(odd)":{backgroundColor:e.palette.background.default}}}}))(Ne.a),Be=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(f.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(r)))).state={openDialog:!1,invoices:[]},a.handleClose=function(){a.setState({openDialog:!1})},a.getProfile=function(e,t){if(!e.name)return o.a.createElement(y.a,{component:"p"},"It seems like you are not logged in");if(!a.props.invoices.getInvoiceFailed){var n=a.props.invoices.invoiceList;return o.a.createElement(o.a.Fragment,null,o.a.createElement(Se.a,{component:H.a},o.a.createElement(Fe.a,{className:t.table,"aria-label":"customized table"},o.a.createElement(Te.a,null,o.a.createElement(Ne.a,null,o.a.createElement(Ae,null,"Name of Customer"),o.a.createElement(Ae,{align:"right"},"Date"),o.a.createElement(Ae,{align:"right"},"Items"),o.a.createElement(Ae,{align:"right"},"Tax"),o.a.createElement(Ae,{align:"right"},"Total"))),o.a.createElement(De.a,null,n.map((function(e){return o.a.createElement(Le,{key:e._id},o.a.createElement(Ae,{component:"th",scope:"row"},e.nameOfCustomer),o.a.createElement(Ae,{align:"right"},e.date),o.a.createElement(Ae,{align:"right"},o.a.createElement(O.a,{onClick:function(){a.setState({openDialog:!0})}},"Items")),o.a.createElement(Ae,{align:"right"},e.invoiceTax),o.a.createElement(Ae,{align:"right"},e.invoiceTotal))}))))))}a.porps.enqueueSnackbar(a.props.invoices.getInvoiceFailed,{variant:"error"})},a}return Object(E.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){this.props.dispatch((console.log("GetInvoices Action dispatched"),function(e){ae.a.get("/api/user/invoices").then((function(t){t.data.invoices?e({type:"GET_INVOICES",payload:t.data.invoices}):e({type:"GET_INVOICES",payload:t.data})}))}))}},{key:"shouldComponentUpdate",value:function(e){return e.invoices.invoiceList.length!==this.state.invoices.length}},{key:"render",value:function(){var e=this.props.classes;return o.a.createElement(o.a.Fragment,null,o.a.createElement(q.a,null,o.a.createElement(H.a,{className:e.root},o.a.createElement(y.a,{variant:"h5",component:"h3"},"Invoice"),o.a.createElement(J.a,{style:{marginTop:15,marginBottom:15}}),null==this.props.user?null:this.getProfile(this.props.user,e)),o.a.createElement(de,{open:this.state.openDialog,title:"Items",text:"Something",handleClose:this.handleClose})))}}]),t}(n.Component),Pe=Object(l.b)((function(e){return e}))(Object(m.withSnackbar)(Object(k.a)(Re)(Be))),_e=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(f.a)(this,Object(g.a)(t).call(this,e))).toggleDrawer=function(e,t){return function(n){(!n||"keydown"!==n.type||"Tab"!==n.key&&"Shift"!==n.key)&&a.setState(Object(p.a)({},a.state,Object(u.a)({},e,t)))}},a.state={right:!1,left:!1},a}return Object(E.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){this.props.dispatch((function(e){ae.a.get("/api/currentuser").then((function(t){e({type:"GET_USER",payload:t.data})}))}))}},{key:"render",value:function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(T.a,null,o.a.createElement(W,{toggleDrawer:this.toggleDrawer,left:this.state.left}),o.a.createElement(A,{toggleDrawer:this.toggleDrawer}),o.a.createElement(D.a,{exact:!0,path:"/login"}," ",o.a.createElement(z,null)," "),o.a.createElement(D.a,{exact:!0,path:"/dashboard"}," ",o.a.createElement($,null)," "),o.a.createElement(D.a,{exact:!0,path:"/profile"}," ",o.a.createElement(ee,null)," "),o.a.createElement(D.a,{exact:!0,path:"/createinvoice"}," ",o.a.createElement(we,null)," "),o.a.createElement(D.a,{exact:!0,path:"/viewinvoices"}," ",o.a.createElement(Pe,null)," ")))}}]),t}(n.Component);var Ge=Object(l.b)((function(e){return e}))(_e),We=Object(c.c)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{name:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_USER":return{name:t.payload.name};default:return e}},invoices:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{getInvoiceFailed:!1,invoiceSaveFailed:!1,invoiceList:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREATE_INVOICE":return{invoiceSaveFailed:t.payload?"Invice of ".concat(t.payload.nameOfCustomer," has been created sucessfully"):"Error occured during invoice creation of ".concat(t.payload.nameOfCustomer),invoiceList:[]};case"RESTET_INVOICE_SAVE_MESSAGE":return Object(p.a)({},e,{invoiceSaveFailed:!1});case"GET_INVOICES":return t.payload.length>0?(console.log("GetInvoices Action Reducerd by Reducer ACTION:",t),{getInvoiceFailed:!1,invoiceSaveFailed:!1,invoiceList:Object(he.a)(t.payload)}):{getInvoiceFailed:"Failed to get your invoices",invoiceList:[],invoiceSaveFailed:!1};default:return e}}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var qe=Object(c.e)(We,Object(c.a)(s.a));i.a.render(o.a.createElement(l.a,{store:qe},o.a.createElement(m.SnackbarProvider,{maxSnack:2,anchorOrigin:{vertical:"bottom",horizontal:"right"}},o.a.createElement(Ge,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[267,1,2]]]);
//# sourceMappingURL=main.25509fd4.chunk.js.map