(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{259:function(e,a,t){e.exports=t(382)},277:function(e,a,t){},382:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),o=t(14),l=t.n(o),i=t(30),c=t(51),s=t(229),u=t(81),m=t(9),d=t(25),p=t(18),g=t(15),h=t(19),f=t(20),E=t(21),v=(t(277),t(416)),b=t(187),x=t(69),y=t(163),O=t(188),C=t(231),S=t.n(C),I=t(6),T=t(162),j=t.n(T),N=t(418),k=t(68),w=t(78),F={root:{flexGrow:1},menuButton:{marginRight:j()().spacing(2)},title:{flexGrow:1},linkFix:{textDecoration:"none",color:"white"}},D=function(e){function a(){return Object(p.a)(this,a),Object(h.a)(this,Object(f.a)(a).apply(this,arguments))}return Object(E.a)(a,e),Object(g.a)(a,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement("div",{className:e.root},r.a.createElement(v.a,{position:"static"},r.a.createElement(b.a,null,r.a.createElement(O.a,{edge:"start",className:e.menuButton,color:"inherit","aria-label":"menu",onClick:this.props.toggleDrawer("left",!0)},r.a.createElement(S.a,null)),r.a.createElement(x.a,{variant:"h6",className:e.title},"Inovoice Generator"),r.a.createElement(A,{user:this.props.user,classes:!0}))))}}]),a}(n.Component),A=function(e){return null===e.user.name?null:e.user.name?r.a.createElement(N.a,{href:"/api/logout",className:e.classes.linkFix},r.a.createElement(y.a,{variant:"outlined",color:"default"},"Logout")):r.a.createElement(w.b,{to:"/login",className:e.classes.linkFix},r.a.createElement(y.a,{variant:"outlined",color:"default"},"Login"))},L=Object(k.e)(Object(i.b)((function(e){return e}))(Object(I.a)(F)(D))),P=t(434),R=t(419),_=t(396),V=t(189),G=function(e){function a(){var e,t;Object(p.a)(this,a);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(t=Object(h.a)(this,(e=Object(f.a)(a)).call.apply(e,[this].concat(o)))).sideList=function(e){var a=t.props.classes;return r.a.createElement("div",{className:a.root,role:"presentation",onClick:t.props.toggleDrawer(e,!1),onKeyDown:t.props.toggleDrawer(e,!1)},r.a.createElement(R.a,null,r.a.createElement(w.b,{to:"/dashboard",className:a.linkFix},r.a.createElement(_.a,{button:!0},r.a.createElement(V.a,{primary:"Dashboard"}))),r.a.createElement(w.b,{to:"/createinvoice",className:a.linkFix},r.a.createElement(_.a,{button:!0},r.a.createElement(V.a,{primary:"Create Invoice"}))),r.a.createElement(w.b,{to:"/viewinvoices",className:a.linkFix},r.a.createElement(_.a,{button:!0},r.a.createElement(V.a,{primary:"View Invoices"}))),r.a.createElement(w.b,{to:"/profile",className:a.linkFix},r.a.createElement(_.a,{button:!0},r.a.createElement(V.a,{primary:"Profile"})))))},t}return Object(E.a)(a,e),Object(g.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(P.a,{anchor:"left",open:this.props.left,onClose:this.props.toggleDrawer("left",!1),onOpen:this.props.toggleDrawer("left",!0)},this.sideList("left")))}}]),a}(n.Component),M=Object(i.b)((function(e){return e}))(Object(I.a)({root:{width:"230px",marginRight:"4px"},linkFix:{textDecoration:"none",color:"black"}})(G)),B=t(421),W=t(422),q=t(435),J=function(e){function a(){return Object(p.a)(this,a),Object(h.a)(this,Object(f.a)(a).apply(this,arguments))}return Object(E.a)(a,e),Object(g.a)(a,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement(r.a.Fragment,null,r.a.createElement(B.a,{maxWidth:"sm"},r.a.createElement(W.a,{className:e.root},r.a.createElement(q.a,{src:"/icons/icons8-user-96.png",className:e.avatar}),r.a.createElement(x.a,{color:"primary",variant:"h4"},"Login With"),r.a.createElement(N.a,{href:"/api/login/facebook",className:e.link},r.a.createElement(y.a,{variant:"outlined",color:"primary",className:e.button},"Facebook")),r.a.createElement(N.a,{href:"/api/login/google",className:e.link},r.a.createElement(y.a,{variant:"outlined",color:"secondary",className:e.button},"Google")))))}}]),a}(n.Component),U=Object(I.a)({root:{minWidth:250,minHeight:300,display:"flex",flexDirection:"column",padding:"15px",margin:"5px",justifyContent:"center",alignItems:"center"},link:{height:"3.5em",margin:"10px 5px",minWidth:"90%",display:"flex"},button:{height:"100%",width:"100%"},avatar:{width:"30%",height:"auto",margin:"25px 10px"}})(J),X=t(127),z=t(90),Y=t(423),H={root:{padding:Object(X.a)().spacing(3,2)}},K=function(e){function a(){var e,t;Object(p.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=Object(h.a)(this,(e=Object(f.a)(a)).call.apply(e,[this].concat(r)))).state={},t}return Object(E.a)(a,e),Object(g.a)(a,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement(r.a.Fragment,null,r.a.createElement(B.a,null,r.a.createElement(z.a,{className:e.root},r.a.createElement(x.a,{variant:"h5",component:"h3"},"Dashboard"),r.a.createElement(Y.a,{style:{marginTop:15,marginBottom:15}}),r.a.createElement(x.a,{component:"p"}))))}}]),a}(n.Component),Q=Object(i.b)((function(e){return e}))(Object(I.a)(H)(K)),$=t(26),Z=t(198),ee=t(433),ae=t(226),te=t(201),ne=t(426),re=t(202),oe=t(203),le=t(204),ie=t(205),ce=t(206),se=t(427),ue=t(428),me=t(429),de=t(430),pe=t(431),ge=t(432),he=t(85),fe=t.n(he),Ee=function(e){return function(a){var t=e;fe.a.get("/api/user/createinvoice",{params:t}).then((function(t){var n=e;t.data.status?a({type:"CREATE_INVOICE",payload:{status:!0,invoice:n}}):a({type:"CREATE_INVOICE",payload:{status:!1,invoice:n}})}))}},ve=function(e){return function(a){fe.a.get("/api/user/setprofileconfig",{params:e}).then((function(e){a({type:"SET_PROFILE_CONFIG",payload:e.data})}))}},be=function(){return{type:"RESET_PROFILE"}},xe=Object(X.a)(),ye={root:{padding:xe.spacing(2,1),"& > *":{margin:xe.spacing(1)},flexFlow:"wrap"},saveBtn:Object(m.a)({display:"block",margin:"auto",padding:"1em 3em"},xe.breakpoints.down("md"),{width:"100%"}),box:Object(m.a)({padding:"15px 5px",display:"flex",alignItems:"center"},xe.breakpoints.down("md"),{flexDirection:"column"}),table:{maxWidth:350}},Oe=function(e){function a(){var e,t;Object(p.a)(this,a);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(t=Object(h.a)(this,(e=Object(f.a)(a)).call.apply(e,[this].concat(o)))).isMessageDisplayed=!1,t.state={currency:"INR",shopName:"",addressLine1:"",addressLine2:"",config:{},isMessageDisplayed:!1,taxName:"",taxValue:1,taxesArr:[],taxDialogOpen:!1,taxAddErr:""},t.currencies=[{value:"USD",label:"$"},{value:"INR",label:"\u20b9"},{value:"EUR",label:"\u20ac"}],t.handleTaxDialogClose=function(){t.setState({taxDialogOpen:!1})},t.handleInputChange=function(e){switch(e.target.name){case"shopName":t.setState({shopName:e.target.value});break;case"addressLine1":t.setState({addressLine1:e.target.value});break;case"addressLine2":t.setState({addressLine2:e.target.value});break;case"currency":t.setState({currency:e.target.value});break;case"taxName":t.setState({taxName:e.target.value,taxAddErr:""});break;case"taxValue":t.setState({taxValue:e.target.value,taxAddErr:""});break;default:console.log("No Target For Input Found")}},t.addTaxes=function(){t.setState({taxDialogOpen:!0})},t.clearAllTax=function(){console.log(t.state.taxesArr),t.setState({taxDialogOpen:!1,taxesArr:[],taxName:"",taxValue:1})},t.handleTaxDialogSave=function(){var e=t.state.taxesArr,a=t.state.taxName,n=t.state.taxValue;t.state.taxName&&t.state.taxValue?t.setState({taxesArr:[].concat(Object($.a)(e),[{taxName:a,taxValue:n}]),taxDialogOpen:!1}):t.setState({taxAddErr:"Please Fill All Fields"})},t.saveInputs=function(){var e=t.state,a=e.shopName,n=e.addressLine1,r=e.addressLine2,o=e.currency,l=e.taxesArr,i={shopName:a,addressLine1:n,addressLine2:r,currency:o,taxes:l};t.props.dispatch(be()),i.shopName&&i.addressLine1&&i.addressLine2?0===l.length?t.props.enqueueSnackbar("Please Add Taxes",{variant:"warning"}):t.props.dispatch(ve(i)):t.props.enqueueSnackbar("Fill All The Data Fields",{variant:"warning"})},t.getProfile=function(e,a){return null===e.name?r.a.createElement(Z.a,null):!1===e.name?r.a.createElement(x.a,{component:"p",align:"center",gutterBottom:!0,variant:"h5"},"Looks Like You Are Not Logged In"):r.a.createElement(r.a.Fragment,null,r.a.createElement(ee.a,{className:a.box},r.a.createElement(x.a,{component:"p",align:"center",gutterBottom:!0,variant:"h5"},"Welcome, "+e.name),r.a.createElement("form",{className:a.root,noValidate:!0,autoComplete:"off"},r.a.createElement(x.a,{component:"p",gutterBottom:!0,variant:"h6"},"Details of Shop"),r.a.createElement(ae.a,{id:"outlined-basic",name:"shopName",label:"Shop Name",variant:"outlined",fullWidth:!0,value:t.state.shopName,onChange:t.handleInputChange}),r.a.createElement(ae.a,{id:"outlined-basic",name:"addressLine1",label:"Address Line",variant:"outlined",fullWidth:!0,value:t.state.addressLine1,onChange:t.handleInputChange}),r.a.createElement(ae.a,{id:"outlined-basic",name:"addressLine2",label:"Address Line 2",variant:"outlined",fullWidth:!0,value:t.state.addressLine2,onChange:t.handleInputChange}),r.a.createElement(ae.a,{id:"outlined-select-currency",name:"currency",select:!0,label:"Select",value:t.state.currency,onChange:t.handleInputChange,helperText:"Please select your currency",variant:"outlined"},t.currencies.map((function(e){return r.a.createElement(te.a,{key:e.value,value:e.value},e.label)}))),r.a.createElement(x.a,{component:"p",gutterBottom:!0,variant:"h6"},"Tax Details"),r.a.createElement(ne.a,{component:ee.a},r.a.createElement(re.a,{className:a.table,"aria-label":"simple table"},r.a.createElement(oe.a,null,r.a.createElement(le.a,null,r.a.createElement(ie.a,null,"Tax Name"),r.a.createElement(ie.a,{align:"right"},"Tax Ammount (%) "))),r.a.createElement(ce.a,null,t.state.taxesArr.map((function(e){return r.a.createElement(le.a,{key:e.taxName},r.a.createElement(ie.a,{component:"th",scope:"row"},e.taxName),r.a.createElement(ie.a,{align:"right"},e.taxValue))}))))),r.a.createElement(ee.a,{className:a.box},r.a.createElement(se.a,{color:"primary","aria-label":"outlined primary button group"},r.a.createElement(y.a,{variant:"outlined",color:"primary",onClick:t.clearAllTax},"Clear All TAX"),r.a.createElement(y.a,{variant:"outlined",color:"primary",onClick:t.addTaxes},"Add TAX"))),r.a.createElement(y.a,{variant:"outlined",color:"primary",className:a.saveBtn,onClick:t.saveInputs},"Save"))))},t}return Object(E.a)(a,e),Object(g.a)(a,[{key:"componentDidMount",value:function(){console.log("Mounted"),this.props.dispatch((function(e){fe.a.get("/api/user/profileconfig").then((function(a){if(a.data.status){var t=a.data.config.taxes.map((function(e){return JSON.parse(e)}));return a.data.config.taxes=t,e({type:"GET_PROFILE_CONFIG",payload:a.data})}e({type:"GET_PROFILE_CONFIG",payload:a.data})}))}))}},{key:"render",value:function(){var e=this.props.classes;return r.a.createElement(r.a.Fragment,null,r.a.createElement(B.a,null,r.a.createElement(z.a,{className:e.root},r.a.createElement(x.a,{variant:"h5",component:"h3"},"Profile"),r.a.createElement(Y.a,null),null==this.props.user?null:this.getProfile(this.props.user,e))),r.a.createElement(ue.a,{open:this.state.taxDialogOpen,onClose:this.handleTaxDialogClose,"aria-labelledby":"form-dialog-title"},r.a.createElement(me.a,{id:"form-dialog-title"},"Add TAX"),r.a.createElement(de.a,null,r.a.createElement(pe.a,null,"Enter Tax Name And Its Value In Percentage"),r.a.createElement(pe.a,null,this.state.taxAddErr),r.a.createElement(ae.a,{autoFocus:!0,margin:"dense",id:"name",name:"taxName",label:"Tax Name",value:this.state.taxName,type:"Text",onChange:this.handleInputChange,fullWidth:!0}),r.a.createElement(ae.a,{autoFocus:!0,margin:"dense",name:"taxValue",id:"name",label:"Tax Percent",value:this.state.taxValue,type:"number",onChange:this.handleInputChange,fullWidth:!0})),r.a.createElement(ge.a,null,r.a.createElement(y.a,{onClick:this.handleTaxDialogClose,color:"primary"},"Cancel"),r.a.createElement(y.a,{onClick:this.handleTaxDialogSave,color:"primary"},"Save"))))}}],[{key:"getDerivedStateFromProps",value:function(e,a){var t=e.profile;if(t.config){var n=t.config;if(n.shopName){console.log(n);var r=n.shopName,o=n.addressLine1,l=n.addressLine2,i=n.currency,c=n.taxes;if(r!==a.shopName&&l!==a.addressLine2&&o!==a.addressLine1&&JSON.stringify(c)!==JSON.stringify(a.taxes))return e.dispatch(be()),{shopName:r,addressLine1:o,addressLine2:l,currency:i,taxesArr:c}}else t.saveStatus&&(e.enqueueSnackbar(t.saveStatus,{variant:"success"}),e.dispatch(be()));return null}if(null===t.config)return e.enqueueSnackbar(t.statusMessage,{variant:"warning"}),e.dispatch(be()),null;if(!1===t.config){if(t.statusMessage)return e.enqueueSnackbar(t.statusMessage,{variant:"error"}),e.dispatch(be()),null;if(t.saveStatus)return e.enqueueSnackbar(t.saveStatus,{variant:"warning"}),e.dispatch(be()),null}return null}}]),a}(n.Component),Ce=Object(I.a)(ye)(Object(u.withSnackbar)(Object(i.b)((function(e){return e}))(Oe)));function Se(e){return r.a.createElement("div",null,r.a.createElement(ue.a,{fullWidth:!0,open:e.open,onClose:e.handleClose,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(me.a,{id:"alert-dialog-title"},e.title),r.a.createElement(de.a,{dividers:!0},e.array?r.a.createElement(ne.a,{component:z.a},r.a.createElement(re.a,{size:"medium","aria-label":"simple table"},r.a.createElement(oe.a,null,r.a.createElement(le.a,null,r.a.createElement(ie.a,null,"Index"),r.a.createElement(ie.a,{align:"right"},"Item Name"),r.a.createElement(ie.a,{align:"right"},"Quantity"),r.a.createElement(ie.a,{align:"right"},"Cost"),r.a.createElement(ie.a,{align:"right"},"Total Bill"))),r.a.createElement(ce.a,null,e.array.map((function(e,a){return r.a.createElement(le.a,{key:e._id},r.a.createElement(ie.a,{component:"th",scope:"row"},a+1),r.a.createElement(ie.a,{align:"right"},e.item),r.a.createElement(ie.a,{align:"right"},e.quantity),r.a.createElement(ie.a,{align:"right"},e.cost),r.a.createElement(ie.a,{align:"right"},e.total))}))))):e.text),r.a.createElement(ge.a,null,r.a.createElement(y.a,{onClick:e.handleClose,color:"primary",autoFocus:!0},"Okay"))))}var Ie=t(43),Te=t(144),je=t.n(Te),Ne=t(183),ke=Object(Ne.a)({button:{marginTop:"20px",padding:"10px"},customWidth:{width:"100%"},flex:{display:"flex",justifyContent:"space-between",padding:"0.8rem"},noBorder:{borderBottom:"0px"},footerFix:{display:"block"},roundoff:{padding:"4px 22px"}});function we(e){var a=e.total,t=e.roundoff,n=e.handleItemListData,o=e.taxes,l=ke(),i=r.a.useState({columns:[{title:"Item",field:"item"},{title:"Quantity",field:"quantity",type:"numeric"},{title:"Cost/Item",field:"cost",type:"numeric"},{title:"total",field:"total",type:"numeric",editable:"never"}],data:[],openDialog:!1}),c=Object(Ie.a)(i,2),s=c[0],u=c[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(je.a,{title:"Items",columns:s.columns,data:s.data,editable:{onRowAdd:function(e){return new Promise((function(a){setTimeout((function(){a(),u((function(a){var t=Object($.a)(a.data);return e.cost&&e.quantity&&e.item?(e.cost=parseFloat(e.cost),e.quantity=parseFloat(e.quantity),e.total=parseFloat((e.cost*e.quantity).toFixed(2)),t.push(e),n(Fe(t,o)),u(Object(d.a)({},a,{data:t}))):u(Object(d.a)({},a,{openDialog:!0})),Object(d.a)({},a,{data:t})}))}),200)}))},onRowUpdate:function(e,a){return new Promise((function(t){setTimeout((function(){t(),a&&u((function(t){if(e.cost&&e.quantity&&e.item){var r=Object($.a)(t.data);return e.cost=parseFloat(e.cost),e.quantity=parseFloat(e.quantity),e.total=parseFloat((e.cost*e.quantity).toFixed(2)),r[r.indexOf(a)]=e,n(Fe(r,o)),Object(d.a)({},t,{data:r})}u(Object(d.a)({},t,{openDialog:!0}))}))}),200)}))},onRowDelete:function(e){return new Promise((function(a){setTimeout((function(){a(),u((function(a){var t=Object($.a)(a.data);return t.splice(t.indexOf(e),1),n(Fe(t,o)),Object(d.a)({},a,{data:t})}))}),200)}))}},options:{rowStyle:{backgroundColor:"#EEE"},actionsColumnIndex:3,search:!1,minBodyHeight:300,loadingType:"linear"},components:{Cell:function(e){return r.a.createElement(Te.MTableCell,Object.assign({},e,{className:l.noBorder}))},EditField:function(e){return r.a.createElement(Te.MTableEditField,Object.assign({},e,{className:l.customWidth}))},Pagination:function(e){return r.a.createElement(ie.a,{colSpan:3,className:l.footerFix},r.a.createElement(ee.a,{component:"span",m:1,className:l.flex},r.a.createElement(x.a,{variant:"h6",component:"span",align:"center"},"Tax Ammount: "),o.map((function(e,a){return r.a.createElement(x.a,{key:a,variant:"subtitle1",component:"span",align:"center"},e.taxName,"\u2002 ",e.taxValue,"% \u2003 ",e.totalTax)}))),r.a.createElement(Y.a,{variant:"middle"}),r.a.createElement(x.a,{variant:"button",className:l.roundoff,component:"div",align:"right"},"Round Off \u2003",t),r.a.createElement(Y.a,{variant:"middle"}),r.a.createElement(ee.a,{component:"span",m:1,className:l.flex},r.a.createElement(x.a,{variant:"h6",component:"span",align:"center"},"Total Ammount: "),r.a.createElement(x.a,{variant:"h5",component:"span",align:"center"},a)))}}}),r.a.createElement(Se,{text:"Please enter all data in items list",title:"Invalid Input",open:s.openDialog,handleClose:function(){u((function(e){u(Object(d.a)({},e,{openDialog:!1}))}))}}))}function Fe(e,a){var t,n=0,r=0;return e.forEach((function(e){return n+=e.total})),a.map((function(e){return e.totalTax=parseFloat((n/100*e.taxValue).toFixed(2))})),a.forEach((function(e){r+=e.totalTax})),t=parseFloat((Math.round(n+r)-(n+r)).toFixed(2)),{total:n=parseInt(Math.round(n+r)),tax:a,roundoff:t,items:e,totaltax:r}}var De=Object(X.a)(),Ae={root:{display:"flex",flexFlow:"column",padding:De.spacing(3,2)},container:{display:"flex",flexWrap:"wrap",marginTop:De.spacing(2)},textField:{marginLeft:De.spacing(1),marginRight:De.spacing(1),width:220,marginBottom:25},textFieldSmall:{"& > *":{margin:De.spacing(1),width:200}},button:{marginTop:"20px",padding:"10px"},customWidth:{width:"100%"},flex:{display:"flex",justifyContent:"space-between",padding:"0.8rem"},noBorder:{borderBottom:"0px"},footerFix:{display:"block"}},Le="",Pe=function(e){function a(e){var t;return Object(p.a)(this,a),(t=Object(h.a)(this,Object(f.a)(a).call(this,e))).state={openDialog:!1,nameOfCustomer:"",costomerAddressLine:"",customerCity:"",customerState:"",customerCountry:"",date:(new Date).toISOString(),items:[],invoiceTax:[],invoiceTotalTax:0,invoiceTotal:0,invoiceRoundoff:0,displayTime:new Date((new Date).getTime()+198e5).toISOString().split(".")[0]},t.handleClose=function(){t.setState({openDialog:!1})},t.feedDataIntoStore=function(){var e=t.state,a=e.nameOfCustomer,n=e.date,r=e.items,o=e.invoiceTotal,l=e.invoiceTax,i=e.invoiceTotalTax,c={nameOfCustomer:a,date:n,items:r,invoiceTotal:o,invoiceTotalTax:i,invoiceTax:l,invoiceRoundoff:e.invoiceRoundoff,customerCountry:e.customerCountry,customerState:e.customerState,customerCity:e.customerCity,costomerAddressLine:e.costomerAddressLine};a&&0!==r.length&&n&&o&&l&&i?t.props.dispatch(Ee(c)):t.setState({openDialog:!0})},t.handleItemListData=function(e){setTimeout((function(){return t.setState({invoiceTotal:e.total,invoiceTax:e.tax,invoiceRoundoff:e.roundoff,items:e.items,invoiceTotalTax:e.totaltax})}),500)},t.handleInputChange=function(e){switch(e.target.placeholder){case"NameOfCustomer":t.setState({nameOfCustomer:e.target.value});break;case"Address":t.setState({costomerAddressLine:e.target.value});break;case"City":t.setState({customerCity:e.target.value});break;case"State":t.setState({customerState:e.target.value});break;case"Country":t.setState({customerCountry:e.target.value});break;default:console.log("Cannot Find matching Event")}},t.handleDateChange=function(e){e.persist(),t.setState({date:e.target.value.split(".")[0]+"."+t.state.date.split(".")[1]})},t.renderNext=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(ae.a,{id:"standard-full-width",label:"Name",style:{margin:8},placeholder:"NameOfCustomer",margin:"normal",value:t.state.nameOfCustomer,onChange:t.handleInputChange,InputLabelProps:{shrink:!0}}),r.a.createElement(ae.a,{id:"standard-full-width",label:"Address of Customer",style:{margin:8},placeholder:"Address",margin:"normal",value:t.state.costomerAddressLine,onChange:t.handleInputChange,InputLabelProps:{shrink:!0}}),r.a.createElement("form",{noValidate:!0,autoComplete:"off"},r.a.createElement(ae.a,{id:"standard-basic",placeholder:"City",label:"City",className:e.textFieldSmall,value:t.state.customerCity,onChange:t.handleInputChange}),r.a.createElement(ae.a,{id:"standard-basic",placeholder:"State",label:"State",className:e.textFieldSmall,value:t.state.customerState,onChange:t.handleInputChange}),r.a.createElement(ae.a,{id:"standard-basic",placeholder:"Country",label:"Country",className:e.textFieldSmall,value:t.state.customerCountry,onChange:t.handleInputChange})),r.a.createElement("form",{className:e.container,noValidate:!0},r.a.createElement(ae.a,{id:"datetime-local",label:"Date And Time",type:"datetime-local",defaultValue:t.state.displayTime,className:e.textField,onChange:t.handleDateChange,InputLabelProps:{shrink:!0}})),r.a.createElement(we,{tax:t.state.invoiceTax,total:t.state.invoiceTotal,roundoff:t.state.invoiceRoundoff,handleItemListData:t.handleItemListData,taxes:t.props.profile.taxes}),r.a.createElement(Se,{text:"Please Enter All Data.....",title:"Invalid Input",open:t.state.openDialog,handleClose:t.handleClose}),r.a.createElement(y.a,{variant:"contained",color:"primary",className:e.button,onClick:t.feedDataIntoStore},"Create Invoice"))},t.interval=null,t}return Object(E.a)(a,e),Object(g.a)(a,[{key:"componentDidMount",value:function(){this.props.dispatch((function(e){fe.a.get("/api/user/gettaxes").then((function(a){if(a.data.status){var t=a.data.taxes.map((function(e){return JSON.parse(e)}));a.data.taxes=t,e({type:"GET_TAXES",payload:a.data})}else e({type:"GET_TAXES",payload:a.data})}))}))}},{key:"render",value:function(){var e=this,a=this.props.classes;return this.props.invoices.invoiceSaveStatus&&setTimeout((function(){var a=e.props.invoices.invoiceSaveStatus;e.props.enqueueSnackbar(a,{variant:-1===a.search("Error")?"success":"error"}),e.props.dispatch({type:"RESTET_INVOICE_SAVE_MESSAGE"})}),600),r.a.createElement(r.a.Fragment,null,r.a.createElement(B.a,null,r.a.createElement(z.a,{className:a.root},r.a.createElement(x.a,{variant:"h5",component:"h3"},"Create Invoice"),r.a.createElement(Y.a,{style:{marginTop:15,marginBottom:15}}),null===this.props.profile.taxes||null===this.props.user.name?r.a.createElement(r.a.Fragment,null,r.a.createElement(Z.a,null),r.a.createElement(x.a,{variant:"button"},"Loading Your Data...")):!1===this.props.user.name?r.a.createElement(x.a,{variant:"button"},"Looks Like You Are Not Logged In."):!1===this.props.profile.taxes?r.a.createElement(x.a,{variant:"button"},"Something Went Wrong"):this.renderNext(a))),r.a.createElement(Se,{text:"You Need To Provide All The Data To Create Invoice, Fields Can't Be Kept Empty",title:"Can't Create Invoice",open:this.state.openDialog,handleClose:this.handleClose}))}}],[{key:"getDerivedStateFromProps",value:function(e){return!1===e.profile.taxes&&Le!==e.profile.getTaxesStatus?(e.enqueueSnackbar(e.profile.getTaxesStatus,{variant:"warning"}),Le=e.profile.getTaxesStatus,null):null}}]),a}(n.Component),Re=Object(i.b)((function(e){return e}))(Object(u.withSnackbar)(Object(I.a)(Ae)(Pe))),_e={root:{padding:Object(X.a)().spacing(3,2)},table:{minWidth:700}},Ve=Object(I.a)((function(e){return{head:{backgroundColor:e.palette.primary.dark,color:e.palette.common.white},body:{fontSize:14}}}))(ie.a),Ge=Object(I.a)((function(e){return{root:{"&:nth-of-type(odd)":{backgroundColor:e.palette.background.default}}}}))(le.a),Me=function(e){function a(){var e,t;Object(p.a)(this,a);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(t=Object(h.a)(this,(e=Object(f.a)(a)).call.apply(e,[this].concat(o)))).state={openDialog:!1,invoices:[],openItems:!1,itemsArray:[]},t.handleClose=function(){t.setState({openDialog:!1,openItems:!1})},t.openItemsDialog=function(e){t.setState({openItems:!0,itemsArray:t.props.invoices.invoiceList[e].items})},t.printInvoice=function(e){console.log(e," is requesting for print");var a="/api/user/printinvoice/".concat(e);window.open(a,"_blank")},t.getProfile=function(e,a){if(!e.name)return r.a.createElement(x.a,{component:"p"},"It seems like you are not logged in");if(!t.props.invoices.getInvoiceFailed){var n=t.props.invoices.invoiceList;return r.a.createElement(r.a.Fragment,null,r.a.createElement(ne.a,{component:z.a},r.a.createElement(re.a,{className:a.table,"aria-label":"customized table"},r.a.createElement(oe.a,null,r.a.createElement(le.a,null,r.a.createElement(Ve,null,"Name of Customer"),r.a.createElement(Ve,{align:"right"},"Date"),r.a.createElement(Ve,{align:"right"},"Items"),r.a.createElement(Ve,{align:"right"},"Tax"),r.a.createElement(Ve,{align:"right"},"Total"),r.a.createElement(Ve,{align:"right"},"Print"))),r.a.createElement(ce.a,null,n.map((function(e,a){return r.a.createElement(Ge,{key:e._id},r.a.createElement(Ve,{component:"th",scope:"row"},e.nameOfCustomer),r.a.createElement(Ve,{align:"right"},new Date(e.date).toString().split("GMT")[0]),r.a.createElement(Ve,{align:"right"},r.a.createElement(y.a,{onClick:function(e){t.openItemsDialog(a)}},"Items")),r.a.createElement(Ve,{align:"right"},e.invoiceTotalTax),r.a.createElement(Ve,{align:"right"},e.invoiceTotal),r.a.createElement(Ve,{align:"right"},r.a.createElement(y.a,{onClick:function(e){t.printInvoice(a)}},"Print")))}))))))}t.props.enqueueSnackbar(t.props.invoices.getInvoiceFailed,{variant:"error"})},t}return Object(E.a)(a,e),Object(g.a)(a,[{key:"componentDidMount",value:function(){this.props.dispatch((console.log("GetInvoices Action dispatched"),function(e){fe.a.get("/api/user/invoices").then((function(a){a.data.invoices?e({type:"GET_INVOICES",payload:a.data.invoices}):e({type:"GET_INVOICES",payload:a.data})}))}))}},{key:"shouldComponentUpdate",value:function(e){return e.invoices.invoiceList.length!==this.state.invoices.length}},{key:"render",value:function(){var e=this.props.classes;return r.a.createElement(r.a.Fragment,null,r.a.createElement(B.a,null,r.a.createElement(z.a,{className:e.root},r.a.createElement(x.a,{variant:"h5",component:"h3"},"Invoice"),r.a.createElement(Y.a,{style:{marginTop:15,marginBottom:15}}),null==this.props.user?null:this.getProfile(this.props.user,e)),r.a.createElement(Se,{open:this.state.openDialog,title:"Items",text:"Something",handleClose:this.handleClose}),r.a.createElement(Se,{open:this.state.openItems,title:"Items",handleClose:this.handleClose,array:this.state.itemsArray})))}}]),a}(n.Component),Be=Object(I.a)(_e)(Object(u.withSnackbar)(Object(i.b)((function(e){return e}))(Me))),We=function(e){function a(e){var t;return Object(p.a)(this,a),(t=Object(h.a)(this,Object(f.a)(a).call(this,e))).toggleDrawer=function(e,a){return function(n){(!n||"keydown"!==n.type||"Tab"!==n.key&&"Shift"!==n.key)&&t.setState(Object(d.a)({},t.state,Object(m.a)({},e,a)))}},t.state={right:!1,left:!1},t}return Object(E.a)(a,e),Object(g.a)(a,[{key:"componentDidMount",value:function(){this.props.dispatch((function(e){fe.a.get("/api/currentuser").then((function(a){e({type:"GET_USER",payload:a.data})}))}))}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(w.a,null,r.a.createElement(M,{toggleDrawer:this.toggleDrawer,left:this.state.left}),r.a.createElement(L,{toggleDrawer:this.toggleDrawer}),r.a.createElement(k.a,{exact:!0,path:"/login"}," ",r.a.createElement(U,null)," "),r.a.createElement(k.a,{exact:!0,path:"/dashboard"}," ",r.a.createElement(Q,null)," "),r.a.createElement(k.a,{exact:!0,path:"/profile"}," ",r.a.createElement(Ce,null)," "),r.a.createElement(k.a,{exact:!0,path:"/createinvoice"}," ",r.a.createElement(Re,null)," "),r.a.createElement(k.a,{exact:!0,path:"/viewinvoices"}," ",r.a.createElement(Be,null)," ")))}}]),a}(n.Component);var qe=Object(i.b)((function(e){return e}))(We),Je=Object(c.c)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{name:null},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"GET_USER":return{name:a.payload.name};default:return e}},invoices:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{getInvoiceFailed:!1,invoiceSaveStatus:!1,invoiceList:[]},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"CREATE_INVOICE":var t;return t=a.payload.status?"Invice of ".concat(a.payload.invoice.nameOfCustomer," has been created sucessfully"):"Error occured during invoice creation of ".concat(a.payload.invoice.nameOfCustomer),Object(d.a)({},e,{invoiceSaveStatus:t});case"RESTET_INVOICE_SAVE_MESSAGE":return Object(d.a)({},e,{invoiceSaveStatus:!1});case"GET_INVOICES":return a.payload.length>0?(console.log("GetInvoices Action Reducerd by Reducer ACTION:",a),{getInvoiceFailed:!1,invoiceSaveFailed:!1,invoiceList:Object($.a)(a.payload)}):{getInvoiceFailed:"Failed to get your invoices",invoiceList:[],invoiceSaveFailed:!1};case"PRINT_INVOICE":return console.log(a),Object(d.a)({},e);default:return e}},profile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{taxes:null,getTaxesStatus:!1},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"GET_PROFILE_CONFIG":return a.payload.status?Object(d.a)({},e,{config:a.payload.config,statusMessage:!1}):null===a.payload.status?Object(d.a)({},e,{config:null,statusMessage:a.payload.msg,saveStatus:!1}):Object(d.a)({},e,{config:!1,statusMessage:a.payload.msg,saveStatus:!1});case"SET_PROFILE_CONFIG":return a.payload.status?Object(d.a)({},e,{config:!0,statusMessage:!1,saveStatus:a.payload.msg}):Object(d.a)({},e,{config:!1,statusMessage:!1,saveStatus:a.payload.msg});case"GET_TAXES":return a.payload.status?Object(d.a)({},e,{taxes:a.payload.taxes,getTaxesStatus:!1}):Object(d.a)({},e,{taxes:!1,getTaxesStatus:a.payload.msg});case"RESET_PROFILE":return Object(d.a)({},e,{config:!1,statusMessage:!1,saveStatus:!1});default:return e}}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Ue=Object(c.e)(Je,Object(c.a)(s.a));l.a.render(r.a.createElement(i.a,{store:Ue},r.a.createElement(u.SnackbarProvider,{maxSnack:3,anchorOrigin:{vertical:"bottom",horizontal:"right",preventDuplicate:!0}},r.a.createElement(qe,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[259,1,2]]]);
//# sourceMappingURL=main.8319247f.chunk.js.map