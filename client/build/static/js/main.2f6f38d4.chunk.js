(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{258:function(e,t,a){e.exports=a(380)},276:function(e,t,a){},380:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(14),i=a.n(r),l=a(28),c=a(50),s=a(228),m=a(95),u=a(9),p=a(51),d=a(18),h=a(15),g=a(19),f=a(20),E=a(21),v=(a(276),a(415)),b=a(186),y=a(78),O=a(188),j=a(187),x=a(230),C=a.n(x),I=a(6),k=a(162),w=a.n(k),F=a(417),S=a(67),T=a(77),D={root:{flexGrow:1},menuButton:{marginRight:w()().spacing(2)},title:{flexGrow:1},linkFix:{textDecoration:"none",color:"white"}},N=function(e){function t(){return Object(d.a)(this,t),Object(g.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this.props.classes;return o.a.createElement("div",{className:e.root},o.a.createElement(v.a,{position:"static"},o.a.createElement(b.a,null,o.a.createElement(j.a,{edge:"start",className:e.menuButton,color:"inherit","aria-label":"menu",onClick:this.props.toggleDrawer("left",!0)},o.a.createElement(C.a,null)),o.a.createElement(y.a,{variant:"h6",className:e.title},"Inovoice Generator"),o.a.createElement(A,{user:this.props.user,classes:!0}))))}}]),t}(n.Component),A=function(e){return null===e.user.name?null:e.user.name?o.a.createElement(F.a,{href:"/api/logout",className:e.classes.linkFix},o.a.createElement(O.a,{variant:"outlined",color:"default"},"Logout")):o.a.createElement(T.b,{to:"/login",className:e.classes.linkFix},o.a.createElement(O.a,{variant:"outlined",color:"default"},"Login"))},R=Object(S.e)(Object(l.b)((function(e){return e}))(Object(I.a)(D)(N))),L=a(431),B=a(418),P=a(395),_=a(189),G=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(g.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).sideList=function(e){var t=a.props.classes;return o.a.createElement("div",{className:t.root,role:"presentation",onClick:a.props.toggleDrawer(e,!1),onKeyDown:a.props.toggleDrawer(e,!1)},o.a.createElement(B.a,null,o.a.createElement(T.b,{to:"/dashboard",className:t.linkFix},o.a.createElement(P.a,{button:!0},o.a.createElement(_.a,{primary:"Dashboard"}))),o.a.createElement(T.b,{to:"/createinvoice",className:t.linkFix},o.a.createElement(P.a,{button:!0},o.a.createElement(_.a,{primary:"Create Invoice"}))),o.a.createElement(T.b,{to:"/viewinvoices",className:t.linkFix},o.a.createElement(P.a,{button:!0},o.a.createElement(_.a,{primary:"View Invoices"}))),o.a.createElement(T.b,{to:"/profile",className:t.linkFix},o.a.createElement(P.a,{button:!0},o.a.createElement(_.a,{primary:"Profile"})))))},a}return Object(E.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(L.a,{anchor:"left",open:this.props.left,onClose:this.props.toggleDrawer("left",!1),onOpen:this.props.toggleDrawer("left",!0)},this.sideList("left")))}}]),t}(n.Component),W=Object(l.b)((function(e){return e}))(Object(I.a)({root:{width:"230px",marginRight:"4px"},linkFix:{textDecoration:"none",color:"black"}})(G)),V=a(420),q=a(421),M=a(432),U=function(e){function t(){return Object(d.a)(this,t),Object(g.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this.props.classes;return o.a.createElement(o.a.Fragment,null,o.a.createElement(V.a,{maxWidth:"sm"},o.a.createElement(q.a,{className:e.root},o.a.createElement(M.a,{src:"/icons/icons8-user-96.png",className:e.avatar}),o.a.createElement(y.a,{color:"primary",variant:"h4"},"Login With"),o.a.createElement(F.a,{href:"/api/login/facebook",className:e.link},o.a.createElement(O.a,{variant:"outlined",color:"primary",className:e.button},"Facebook")),o.a.createElement(F.a,{href:"/api/login/google",className:e.link},o.a.createElement(O.a,{variant:"outlined",color:"secondary",className:e.button},"Google")))))}}]),t}(n.Component),z=Object(I.a)({root:{minWidth:250,minHeight:300,display:"flex",flexDirection:"column",padding:"15px",margin:"5px",justifyContent:"center",alignItems:"center"},link:{height:"3.5em",margin:"10px 5px",minWidth:"90%",display:"flex"},button:{height:"100%",width:"100%"},avatar:{width:"30%",height:"auto",margin:"25px 10px"}})(U),H=a(126),J=a(88),K=a(422),Q={root:{padding:Object(H.a)().spacing(3,2)}},Y=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(g.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(o)))).state={},a}return Object(E.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this.props.classes;return o.a.createElement(o.a.Fragment,null,o.a.createElement(V.a,null,o.a.createElement(J.a,{className:e.root},o.a.createElement(y.a,{variant:"h5",component:"h3"},"Dashboard"),o.a.createElement(K.a,{style:{marginTop:15,marginBottom:15}}),o.a.createElement(y.a,{component:"p"}))))}}]),t}(n.Component),$=Object(l.b)((function(e){return e}))(Object(I.a)(Q)(Y)),X={root:{padding:Object(H.a)().spacing(3,2)}},Z=function(e){function t(){return Object(d.a)(this,t),Object(g.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e,t=this.props.classes;return o.a.createElement(o.a.Fragment,null,o.a.createElement(V.a,null,o.a.createElement(J.a,{className:t.root},o.a.createElement(y.a,{variant:"h5",component:"h3"},"Profile"),o.a.createElement(K.a,{style:{marginTop:15,marginBottom:15}}),o.a.createElement(y.a,{component:"p"},null==this.props.user?null:(e=this.props.user).name?"Welcome, "+e.name:"Please Login First"))))}}]),t}(n.Component);var ee=Object(I.a)(X)(Object(l.b)((function(e){return e}))(Z)),te=a(143),ae=a.n(te),ne=function(e){return function(t){var a=e;ae.a.get("/api/user/createinvoice",{params:a}).then((function(a){var n=e;a.data.status?t({type:"CREATE_INVOICE",payload:{status:!0,invoice:n}}):t({type:"CREATE_INVOICE",payload:{status:!1,invoice:n}})}))}},oe=a(225),re=a(423),ie=a(427),le=a(425),ce=a(424),se=a(198),me=a(202),ue=a(201),pe=a(426),de=a(199),he=a(200);function ge(e){return o.a.createElement("div",null,o.a.createElement(re.a,{fullWidth:!0,open:e.open,onClose:e.handleClose,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},o.a.createElement(ce.a,{id:"alert-dialog-title"},e.title),o.a.createElement(le.a,{dividers:!0},e.array?o.a.createElement(pe.a,{component:J.a},o.a.createElement(se.a,{size:"medium","aria-label":"simple table"},o.a.createElement(de.a,null,o.a.createElement(he.a,null,o.a.createElement(ue.a,null,"Index"),o.a.createElement(ue.a,{align:"right"},"Item Name"),o.a.createElement(ue.a,{align:"right"},"Quantity"),o.a.createElement(ue.a,{align:"right"},"Cost"),o.a.createElement(ue.a,{align:"right"},"Total Bill"))),o.a.createElement(me.a,null,e.array.map((function(e,t){return o.a.createElement(he.a,{key:e._id},o.a.createElement(ue.a,{component:"th",scope:"row"},t+1),o.a.createElement(ue.a,{align:"right"},e.item),o.a.createElement(ue.a,{align:"right"},e.quantity),o.a.createElement(ue.a,{align:"right"},e.cost),o.a.createElement(ue.a,{align:"right"},e.total))}))))):e.text),o.a.createElement(ie.a,null,o.a.createElement(O.a,{onClick:e.handleClose,color:"primary",autoFocus:!0},"Okay"))))}var fe=a(29),Ee=a(42),ve=a(144),be=a.n(ve),ye=a(182),Oe=a(430),je=Object(ye.a)({button:{marginTop:"20px",padding:"10px"},customWidth:{width:"100%"},flex:{display:"flex",justifyContent:"space-between",padding:"0.8rem"},noBorder:{borderBottom:"0px"},footerFix:{display:"block"},roundoff:{padding:"4px 22px"}});function xe(e){var t=e.tax,a=e.total,n=e.roundoff,r=e.handleItemListData,i=je(),l=o.a.useState({columns:[{title:"Item",field:"item"},{title:"Quantity",field:"quantity",type:"numeric"},{title:"Cost/Item",field:"cost",type:"numeric"},{title:"total",field:"total",type:"numeric",editable:"never"}],data:[],openDialog:!1}),c=Object(Ee.a)(l,2),s=c[0],m=c[1];return o.a.createElement(o.a.Fragment,null,o.a.createElement(be.a,{title:"Items",columns:s.columns,data:s.data,editable:{onRowAdd:function(e){return new Promise((function(t){setTimeout((function(){t(),m((function(t){var a=Object(fe.a)(t.data);return e.cost&&e.quantity&&e.item?(e.cost=parseFloat(e.cost),e.quantity=parseFloat(e.quantity),e.total=parseFloat((e.cost*e.quantity).toFixed(2)),a.push(e),r(Ce(a)),m(Object(p.a)({},t,{data:a}))):m(Object(p.a)({},t,{openDialog:!0})),Object(p.a)({},t,{data:a})}))}),200)}))},onRowUpdate:function(e,t){return new Promise((function(a){setTimeout((function(){a(),t&&m((function(a){if(e.cost&&e.quantity&&e.item){var n=Object(fe.a)(a.data);return e.cost=parseFloat(e.cost),e.quantity=parseFloat(e.quantity),e.total=parseFloat((e.cost*e.quantity).toFixed(2)),n[n.indexOf(t)]=e,r(Ce(n)),Object(p.a)({},a,{data:n})}m(Object(p.a)({},a,{openDialog:!0}))}))}),200)}))},onRowDelete:function(e){return new Promise((function(t){setTimeout((function(){t(),m((function(t){var a=Object(fe.a)(t.data);return a.splice(a.indexOf(e),1),r(Ce(a)),Object(p.a)({},t,{data:a})}))}),200)}))}},options:{rowStyle:{backgroundColor:"#EEE"},actionsColumnIndex:3,search:!1,minBodyHeight:300,loadingType:"linear"},components:{Cell:function(e){return o.a.createElement(ve.MTableCell,Object.assign({},e,{className:i.noBorder}))},EditField:function(e){return o.a.createElement(ve.MTableEditField,Object.assign({},e,{className:i.customWidth}))},Pagination:function(e){return o.a.createElement(ue.a,{colSpan:3,className:i.footerFix},o.a.createElement(Oe.a,{component:"span",m:1,className:i.flex},o.a.createElement(y.a,{variant:"h6",component:"span",align:"center"},"Tax Ammount: "),o.a.createElement(y.a,{variant:"h6",component:"span",align:"center"},t)),o.a.createElement(K.a,{variant:"middle"}),o.a.createElement(y.a,{variant:"button",className:i.roundoff,component:"div",align:"right"},"Round Off \u2003",n),o.a.createElement(K.a,{variant:"middle"}),o.a.createElement(Oe.a,{component:"span",m:1,className:i.flex},o.a.createElement(y.a,{variant:"h6",component:"span",align:"center"},"Total Ammount: "),o.a.createElement(y.a,{variant:"h5",component:"span",align:"center"},a)))}}}),o.a.createElement(ge,{text:"Please enter all data in items list",title:"Invalid Input",open:s.openDialog,handleClose:function(){m((function(e){m(Object(p.a)({},e,{openDialog:!1}))}))}}))}function Ce(e){var t,a,n=0;return e.forEach((function(e){return n+=e.total})),n=parseFloat(n.toFixed(2)),t=parseFloat((n/100*28).toFixed(2)),a=parseFloat((Math.round(n+t)-(n+t)).toFixed(2)),{total:n=parseInt(Math.round(n+t)),tax:t,roundoff:a,items:e}}var Ie=Object(H.a)(),ke={root:{display:"flex",flexFlow:"column",padding:Ie.spacing(3,2)},container:{display:"flex",flexWrap:"wrap"},textField:{marginLeft:Ie.spacing(1),marginRight:Ie.spacing(1),width:220,marginBottom:20},button:{marginTop:"20px",padding:"10px"},customWidth:{width:"100%"},flex:{display:"flex",justifyContent:"space-between",padding:"0.8rem"},noBorder:{borderBottom:"0px"},footerFix:{display:"block"}},we=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(g.a)(this,Object(f.a)(t).call(this,e))).state={openDialog:!1,nameOfCustomer:"",date:(new Date).toISOString(),items:[],invoiceTax:0,invoiceTotal:0,invoiceRoundoff:0},a.handleClose=function(){a.setState({openDialog:!1})},a.feedDataIntoStore=function(){var e=a.state,t=e.nameOfCustomer,n=e.date,o=e.items,r=e.invoiceTotal,i=e.invoiceTax,l={nameOfCustomer:t,date:n,items:o,invoiceTotal:r,invoiceTax:i,invoiceRoundoff:e.invoiceRoundoff};console.log(a.state.date.toString()),t&&0!==o.length&&n&&r&&i?a.props.dispatch(ne(l)):a.setState({openDialog:!0})},a.handleItemListData=function(e){setTimeout((function(){return a.setState({invoiceTotal:e.total,invoiceTax:e.tax,invoiceRoundoff:e.roundoff,items:e.items})}),500)},a.handleNameChange=function(e){a.setState({nameOfCustomer:e.target.value})},a.handleDateChange=function(e){e.persist(),console.log(e.target.value),console.log(a.state.date),a.setState({date:e.target.value.split(".")[0]+"."+a.state.date.split(".")[1]})},a.checkUser=function(e,t){return e?o.a.createElement(o.a.Fragment,null,o.a.createElement(oe.a,{id:"standard-full-width",label:"Name",style:{margin:8},placeholder:"Name of Customer",margin:"normal",fullWidth:!0,value:a.state.nameOfCustomer,onChange:a.handleNameChange,InputLabelProps:{shrink:!0}}),o.a.createElement("form",{className:t.container,noValidate:!0},o.a.createElement(oe.a,{id:"datetime-local",label:"Date And Time",type:"datetime-local",defaultValue:a.state.date.split(".")[0],className:t.textField,onChange:a.handleDateChange,InputLabelProps:{shrink:!0}})),o.a.createElement(xe,{tax:a.state.invoiceTax,total:a.state.invoiceTotal,roundoff:a.state.invoiceRoundoff,handleItemListData:a.handleItemListData}),o.a.createElement(ge,{text:"Please Enter All Data.....",title:"Invalid Input",open:a.state.openDialog,handleClose:a.handleClose}),o.a.createElement(O.a,{variant:"contained",color:"primary",className:t.button,onClick:a.feedDataIntoStore},"Create Invoice")):"Please Login First"},a.interval=null,a}return Object(E.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this,t=this.props.classes;return this.props.invoices.invoiceSaveStatus&&setTimeout((function(){var t=e.props.invoices.invoiceSaveStatus;e.props.enqueueSnackbar(t,{variant:-1===t.search("Error")?"success":"error"}),e.props.dispatch({type:"RESTET_INVOICE_SAVE_MESSAGE"})}),600),o.a.createElement(o.a.Fragment,null,o.a.createElement(V.a,null,o.a.createElement(J.a,{className:t.root},o.a.createElement(y.a,{variant:"h5",component:"h3"},"Create Invoice"),o.a.createElement(K.a,{style:{marginTop:15,marginBottom:15}}),null===this.props.user?null:this.checkUser(this.props.user,t))),o.a.createElement(ge,{text:"You Need To Provide All The Data To Create Invoice, Fields Can't Be Kept Empty",title:"Can't Create Invoice",open:this.state.openDialog,handleClose:this.handleClose}))}}]),t}(n.Component),Fe=Object(l.b)((function(e){return e}))(Object(m.withSnackbar)(Object(I.a)(ke)(we))),Se={root:{padding:Object(H.a)().spacing(3,2)},table:{minWidth:700}},Te=Object(I.a)((function(e){return{head:{backgroundColor:e.palette.primary.dark,color:e.palette.common.white},body:{fontSize:14}}}))(ue.a),De=Object(I.a)((function(e){return{root:{"&:nth-of-type(odd)":{backgroundColor:e.palette.background.default}}}}))(he.a),Ne=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(g.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).state={openDialog:!1,invoices:[],openItems:!1,itemsArray:[]},a.handleClose=function(){a.setState({openDialog:!1,openItems:!1})},a.getProfile=function(e,t){if(!e.name)return o.a.createElement(y.a,{component:"p"},"It seems like you are not logged in");if(!a.props.invoices.getInvoiceFailed){var n=a.props.invoices.invoiceList;return o.a.createElement(o.a.Fragment,null,o.a.createElement(pe.a,{component:J.a},o.a.createElement(se.a,{className:t.table,"aria-label":"customized table"},o.a.createElement(de.a,null,o.a.createElement(he.a,null,o.a.createElement(Te,null,"Name of Customer"),o.a.createElement(Te,{align:"right"},"Date"),o.a.createElement(Te,{align:"right"},"Items"),o.a.createElement(Te,{align:"right"},"Tax"),o.a.createElement(Te,{align:"right"},"Total"))),o.a.createElement(me.a,null,n.map((function(e,t){return o.a.createElement(De,{key:e._id},o.a.createElement(Te,{component:"th",scope:"row"},e.nameOfCustomer),o.a.createElement(Te,{align:"right"},new Date(e.date).toString().split("GMT")[0]),o.a.createElement(Te,{align:"right"},o.a.createElement(O.a,{onClick:function(e){a.openItemsDialog(t)}},"Items")),o.a.createElement(Te,{align:"right"},e.invoiceTax),o.a.createElement(Te,{align:"right"},e.invoiceTotal))}))))))}a.porps.enqueueSnackbar(a.props.invoices.getInvoiceFailed,{variant:"error"})},a.openItemsDialog=function(e){a.setState({openItems:!0,itemsArray:a.props.invoices.invoiceList[e].items})},a}return Object(E.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){this.props.dispatch((console.log("GetInvoices Action dispatched"),function(e){ae.a.get("/api/user/invoices").then((function(t){t.data.invoices?e({type:"GET_INVOICES",payload:t.data.invoices}):e({type:"GET_INVOICES",payload:t.data})}))}))}},{key:"shouldComponentUpdate",value:function(e){return e.invoices.invoiceList.length!==this.state.invoices.length}},{key:"render",value:function(){var e=this.props.classes;return o.a.createElement(o.a.Fragment,null,o.a.createElement(V.a,null,o.a.createElement(J.a,{className:e.root},o.a.createElement(y.a,{variant:"h5",component:"h3"},"Invoice"),o.a.createElement(K.a,{style:{marginTop:15,marginBottom:15}}),null==this.props.user?null:this.getProfile(this.props.user,e)),o.a.createElement(ge,{open:this.state.openDialog,title:"Items",text:"Something",handleClose:this.handleClose}),o.a.createElement(ge,{open:this.state.openItems,title:"Items",handleClose:this.handleClose,array:this.state.itemsArray})))}}]),t}(n.Component),Ae=Object(I.a)(Se)(Object(m.withSnackbar)(Object(l.b)((function(e){return e}))(Ne))),Re=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(g.a)(this,Object(f.a)(t).call(this,e))).toggleDrawer=function(e,t){return function(n){(!n||"keydown"!==n.type||"Tab"!==n.key&&"Shift"!==n.key)&&a.setState(Object(p.a)({},a.state,Object(u.a)({},e,t)))}},a.state={right:!1,left:!1},a}return Object(E.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){this.props.dispatch((function(e){ae.a.get("/api/currentuser").then((function(t){e({type:"GET_USER",payload:t.data})}))}))}},{key:"render",value:function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(T.a,null,o.a.createElement(W,{toggleDrawer:this.toggleDrawer,left:this.state.left}),o.a.createElement(R,{toggleDrawer:this.toggleDrawer}),o.a.createElement(S.a,{exact:!0,path:"/login"}," ",o.a.createElement(z,null)," "),o.a.createElement(S.a,{exact:!0,path:"/dashboard"}," ",o.a.createElement($,null)," "),o.a.createElement(S.a,{exact:!0,path:"/profile"}," ",o.a.createElement(ee,null)," "),o.a.createElement(S.a,{exact:!0,path:"/createinvoice"}," ",o.a.createElement(Fe,null)," "),o.a.createElement(S.a,{exact:!0,path:"/viewinvoices"}," ",o.a.createElement(Ae,null)," ")))}}]),t}(n.Component);var Le=Object(l.b)((function(e){return e}))(Re),Be=Object(c.c)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{name:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_USER":return{name:t.payload.name};default:return e}},invoices:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{getInvoiceFailed:!1,invoiceSaveStatus:!1,invoiceList:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREATE_INVOICE":var a;return console.log("Payload ",t),a=t.payload.status?"Invice of ".concat(t.payload.invoice.nameOfCustomer," has been created sucessfully"):"Error occured during invoice creation of ".concat(t.payload.invoice.nameOfCustomer),Object(p.a)({},e,{invoiceSaveStatus:a});case"RESTET_INVOICE_SAVE_MESSAGE":return Object(p.a)({},e,{invoiceSaveStatus:!1});case"GET_INVOICES":return t.payload.length>0?(console.log("GetInvoices Action Reducerd by Reducer ACTION:",t),{getInvoiceFailed:!1,invoiceSaveFailed:!1,invoiceList:Object(fe.a)(t.payload)}):{getInvoiceFailed:"Failed to get your invoices",invoiceList:[],invoiceSaveFailed:!1};default:return e}}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Pe=Object(c.e)(Be,Object(c.a)(s.a));i.a.render(o.a.createElement(l.a,{store:Pe},o.a.createElement(m.SnackbarProvider,{maxSnack:2,anchorOrigin:{vertical:"bottom",horizontal:"right"}},o.a.createElement(Le,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[258,1,2]]]);
//# sourceMappingURL=main.2f6f38d4.chunk.js.map